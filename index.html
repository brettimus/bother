<html>
  <head>
      <link rel="stylesheet" href="js/codemirror-4.12/codemirror.css">
      <script type="text/javascript" src="js/codemirror-4.12/codemirror.js"></script>
      <script type="text/javascript" src="js/jspos-0.2.2/lexer.js"></script>
      <script type="text/javascript" src="js/jspos-0.2.2/lexicon.js"></script>
      <script type="text/javascript" src="js/jspos-0.2.2/POSTagger.js"></script>
      <script type="text/javascript" src="js/jquery-1.11.2.min.js"></script>

      <script type="text/javascript">

      function ready(){
        function tagPos(string){
          var words = new Lexer().lex(string);
          var taggedWords = new POSTagger().tag(words);
          var result = []
          for(var i = 0; i < taggedWords.length; i++){
            result.push({word : taggedWords[i][0], pos: taggedWords[i][1]});
          }
          return result;
        }

        $("#pos").submit(function(e){
          e.preventDefault();
          var inputText = $("#pos textarea").val();

          var tags = tagPos(inputText);

          var result = "";
          for(var i = 0; i < tags.length; i++){
            result = result + tags[i].word + " (" + tags[i].pos + ") ";
          }
          $("#pos-output").html(result);
        });

        $("textarea.editor").each(function(idx, textarea) {
            var config = {
              lineNumbers: true,
            }

            var editor = CodeMirror.fromTextArea(textarea, config);
            var e = $(textarea);

            editor.on("changes", function() {
              // accoding to the docs this should work, but...nope!
              //editor.save();
              // so we do it the manual way
              e.text(editor.getValue());
            });
        });
      }

      document.addEventListener("DOMContentLoaded", ready, false);

</script>

  </head>
  <body>
    <form id="pos" action="#">
      <textarea class="editor" cols=40 rows=5>Roses are red, violets are blue.</textarea>
      <p id="pos-output"></p>
      <p><input type="submit" value="tag" /></p>
    </form>
    <div id="pos-defs">
      <p>(via <a href="http://www.ling.upenn.edu/courses/Fall_2003/ling001/penn_treebank_pos.html">upenn</a>, standard NLP notation)

<ul>
<li>CC Coordinating conjunction
</li><li>CD Cardinal number
</li><li>DT Determiner
</li><li>EX Existential there
</li><li>FW Foreign word
</li><li>IN Preposition or subordinating conjunction
</li><li>JJ Adjective
</li><li>JJR Adjective, comparative
</li><li>JJS Adjective, superlative
</li><li>LS List item marker
</li><li>MD Modal
</li><li>NN Noun, singular or mass
</li><li>NNS Noun, plural
</li><li>NNP Proper noun, singular
</li><li>NNPS Proper noun, plural
</li><li>PDT Predeterminer
</li><li>POS Possessive ending
</li><li>PRP Personal pronoun
</li><li>PRP$ Possessive pronoun
</li><li>RB Adverb
</li><li>RBR Adverb, comparative
</li><li>RBS Adverb, superlative
</li><li>RP Particle
</li><li>SYM Symbol
</li><li>TO to
</li><li>UH Interjection
</li><li>VB Verb, base form
</li><li>VBD Verb, past tense
</li><li>VBG Verb, gerund or present participle
</li><li>VBN Verb, past participle
</li><li>VBP Verb, non-3rd person singular present
</li><li>VBZ Verb, 3rd person singular present
</li><li>WDT Wh-determiner
</li><li>WP Wh-pronoun
</li><li>WP$ Possessive wh-pronoun
</li><li>WRB Wh-adverb</li>
</ul>
  </body>

</html>
